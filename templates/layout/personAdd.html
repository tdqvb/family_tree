<!-- personAdd.html -->

<!-- 右侧：新增成员表单（占1/3宽度） -->
<div>
    <div class="bg-white rounded-lg shadow-md p-6 card-shadow">
        <h3 class="text-lg font-semibold mb-4 flex items-center">
            <i class="fas fa-user-plus text-blue-600 mr-2"></i> 新增家族成员
        </h3>
        <form id="add-person-form" action="#" method="POST" novalidate>
            <!-- 基本信息 -->
            <div class="mb-4">
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">姓名 <span
                        class="text-red-500">*</span></label>
                <input type="text" id="name" name="name" required
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
            </div>

            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">性别 <span
                            class="text-red-500">*</span></label>
                    <select id="gender" name="gender" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                        <option value="">请选择</option>
                        <option value="M">男</option>
                        <option value="F">女</option>
                    </select>
                </div>

                <div>
                    <label for="is_living" class="block text-sm font-medium text-gray-700 mb-1">是否在世</label>
                    <select id="is_living" name="is_living"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                        <option value="true" selected>是</option>
                        <option value="false">否</option>
                    </select>
                </div>
            </div>

            <!-- 出生日期信息 -->
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">出生日期 <span class="text-red-500">*</span></label>

                <!-- 日期精确度选择 -->
                <div class="mb-2">
                    <select id="birth_date_accuracy" name="birth_date_accuracy" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                        <option value="exact" selected>精确到日</option>
                        <option value="year_month">精确到月</option>
                        <option value="year_only">精确到年</option>
                    </select>
                </div>

                <!-- 日期输入容器 -->
                <div id="birth_date_container">
                    <!-- 精确到日的输入框 -->
                    <div id="birth_date_exact" class="date-input-group">
                        <div class="grid grid-cols-4 gap-2">
                            <div>
                                <input type="number" id="birth_year" name="birth_year" placeholder="年" min="1900"
                                       max="2100" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="birth_month" name="birth_month" placeholder="月" min="1"
                                       max="12" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="birth_day" name="birth_day" placeholder="日" min="1" max="31"
                                       required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="birth_date_type" name="birth_date_type" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写完整的年、月、日信息</p>
                    </div>

                    <!-- 精确到月的输入框 -->
                    <div id="birth_date_month" class="date-input-group hidden">
                        <div class="grid grid-cols-3 gap-2">
                            <div>
                                <input type="number" id="birth_year_month" name="birth_year_month" placeholder="年"
                                       min="1900" max="2100" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="birth_month_only" name="birth_month_only" placeholder="月"
                                       min="1" max="12" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="birth_date_type_month" name="birth_date_type_month" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写年和月信息</p>
                    </div>

                    <!-- 精确到年的输入框 -->
                    <div id="birth_date_year" class="date-input-group hidden">
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <input type="number" id="birth_year_only" name="birth_year_only" placeholder="年"
                                       min="1900" max="2100" required
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="birth_date_type_year" name="birth_date_type_year" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写年份信息</p>
                    </div>
                </div>
            </div>

            <!-- 逝世信息（默认隐藏） -->
            <div id="death_info" class="mb-4 hidden">
                <label class="block text-sm font-medium text-gray-700 mb-1">逝世日期 <span class="text-red-500">*</span></label>

                <!-- 日期精确度选择 -->
                <div class="mb-2">
                    <select id="death_date_accuracy" name="death_date_accuracy"
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                        <option value="exact" selected>精确到日</option>
                        <option value="year_month">精确到月</option>
                        <option value="year_only">精确到年</option>
                    </select>
                </div>

                <!-- 逝世日期输入容器 -->
                <div id="death_date_container">
                    <!-- 精确到日的输入框 -->
                    <div id="death_date_exact" class="date-input-group">
                        <div class="grid grid-cols-4 gap-2">
                            <div>
                                <input type="number" id="death_year" name="death_year" placeholder="年" min="1900"
                                       max="2100"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="death_month" name="death_month" placeholder="月" min="1"
                                       max="12"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="death_day" name="death_day" placeholder="日" min="1" max="31"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="death_date_type" name="death_date_type"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写完整的年、月、日信息</p>
                    </div>

                    <!-- 精确到月的输入框 -->
                    <div id="death_date_month" class="date-input-group hidden">
                        <div class="grid grid-cols-3 gap-2">
                            <div>
                                <input type="number" id="death_year_month" name="death_year_month" placeholder="年"
                                       min="1900" max="2100"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <input type="number" id="death_month_only" name="death_month_only" placeholder="月"
                                       min="1" max="12"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="death_date_type_month" name="death_date_type_month"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写年和月信息</p>
                    </div>

                    <!-- 精确到年的输入框 -->
                    <div id="death_date_year" class="date-input-group hidden">
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <input type="number" id="death_year_only" name="death_year_only" placeholder="年"
                                       min="1900" max="2100"
                                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                            </div>
                            <div>
                                <select id="death_date_type_year" name="death_date_type_year"
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
                                    <option value="solar" selected>公历</option>
                                    <option value="lunar">农历</option>
                                </select>
                            </div>
                        </div>
                        <p class="date-format-hint text-xs text-gray-500 mt-1">请填写年份信息</p>
                    </div>
                </div>
            </div>

            <!-- 扩展信息 -->
            <div class="mb-4">
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">电话</label>
                <input type="text" id="phone" name="phone"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">邮箱</label>
                <input type="email" id="email" name="email"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="birth_place" class="block text-sm font-medium text-gray-700 mb-1">出生地</label>
                <input type="text" id="birth_place" name="birth_place"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500">
            </div>

            <div class="mb-6">
                <label for="biography" class="block text-sm font-medium text-gray-700 mb-1">生平简介</label>
                <textarea id="biography" name="biography" rows="3"
                          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"></textarea>
            </div>

            <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center">
                <i class="fas fa-save mr-2"></i> 保存成员
            </button>
        </form>
    </div>
</div>